var e=Object.defineProperty;import{p as t}from"./phaser-3q6lwrpP.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class s extends t.Scene{constructor(){super("Boot")}preload(){this.load.image("background","assets/bg.png")}create(){this.scene.start("Preloader")}}class i{constructor(e){this.relatedScene=e}create(){this.mario=this.relatedScene.physics.add.sprite(this.relatedScene.sys.game.config.width/2,100,"mario-ss1"),this.mario.setVisible(!1).setFrame(0).setCollideWorldBounds(!0),this.mario.body.setAllowGravity(!1),console.log(this.mario)}update(){}get(){return this.mario}}class a{constructor(e,t){this.relatedScene=e,this.direccion=t}create(){const{id:e,press:t,x:s,y:i,ang:a,scX:r,scY:o,alpha:n}=this.direccion;this.boton=this.relatedScene.add.image(s,i,e).setInteractive(),this.boton.setScale(r,o).setAngle(a).setDepth(4).setAlpha(n),this.boton.setX(s).setY(i),this.boton.setData("on",!0),this.boton.setData("press",t),this.isDown=!1,this.boton.on("pointerover",(()=>{this.boton.setScale(r+.1,o+.1)})),this.boton.on("pointerout",(()=>{this.boton.setScale(r,o)})),this.boton.on("pointerdown",(()=>{this.isDown=!0})),this.boton.on("pointerup",(()=>{this.isDown=!1})),console.log(this.boton)}get(){return this.boton}}class r{constructor(e){this.relatedScene=e}create(e){const{x:t,y:s,texto:i,size:a,style:r,fll:o,family:n,strokeColor:c,strokeSize:l,shadowColor:h,bool1:d,bool2:g}=e;console.log(e),this.txt=this.relatedScene.add.text(t,s,i,{fontSize:a+"px",fontStyle:r,fill:o,fontFamily:n}),this.crear_tweens(i),this.txt.setStroke(c,l).setShadow(2,2,h,2,d,g),this.txt.setOrigin(.5,0).setX(this.relatedScene.sys.game.config.width/2),console.log(this.txt)}crear_tweens(e){[" Ouch! "," Fuera de aqui! \n cacho subnormal! "].forEach((t=>{t.slice(0,5)===e.slice(0,5)&&this.relatedScene.tweens.add({targets:this.txt,y:3*this.relatedScene.sys.game.config.height-200,x:this.relatedScene.jugador.get().x,scale:1.2,ease:"easeOut",duration:1500})})),[" DonkeyJon "," Nivel Superado! "," Siguiente Nivel "].forEach((t=>{t===e&&this.relatedScene.tweens.add({targets:this.txt,scale:1.2,x:24,ease:"Ease",yoyo:!0,hold:900,duration:2e3,repeat:-1})}))}centrar(e,t,s){[" DonkeyJon "," Nivel "," Nivel Superado! "," Game Over "," Siguiente Nivel "," Menu Config "].forEach((i=>{e.slice(0,5)===i.slice(0,5)&&this.txt.setX(centrar_txt(this.txt,t*s))}))}get(){return this.txt}}const o=class e{static getVelScroll(){return e.velScroll}};var n;((t,s,i)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:90}):t[s]=90})(o,"symbol"!=typeof(n="velScroll")?n+"":n);let c=o;class l extends t.Scene{constructor(){super("Game")}init(){this.crucetaleft=new a(this,{id:"cruceta-left",press:!1,x:50,y:100,ang:0,scX:.5,scY:1,alpha:.3}),this.crucetaright=new a(this,{id:"cruceta-right",press:!1,x:200,y:100,ang:0,scX:.5,scY:1,alpha:.3}),this.mario=new i(this),this.textoIMI=new r(this),this.sonido_marioTuberias=this.sound.add("mario-tuberias")}preload(){}create(){this.sonido_marioTuberias.play(),this.sonido_marioTuberias.volume=.5;const e=this.make.tilemap({key:"map1"}),t=e.addTilesetImage("tiles1-1","tiles1");this.layer1=e.createLayer("1-1",t,0,0),this.set_cameras(),this.mario.create(),this.textoIMI.create({x:120,y:0,texto:"Centro IMI de Zalla",size:20,style:"",fll:"#ff0",family:"verdana",strokeColor:"#ee9011",strokeSize:4,ShadowColor:"#111111",bool1:!1,bool2:!0}),this.crucetaleft.create(),this.crucetaright.create(),this.cameras.main.startFollow(this.mario.get()),console.log(this.input.activePointer),console.log(this.cameras.main)}update(e,t){this.textoIMI.get().setX(this.cameras.main.scrollX+this.sys.game.config.width/2),this.crucetaleft.get().setX(this.cameras.main.scrollX+this.crucetaleft.get().width/2*this.crucetaleft.get().scaleX),this.crucetaright.get().setX(this.cameras.main.scrollX+this.sys.game.config.width-this.crucetaleft.get().width/2*this.crucetaleft.get().scaleX),this.crucetaleft.isDown&&this.mario.get().setVelocityX(-c.getVelScroll()),this.crucetaright.isDown&&this.mario.get().setVelocityX(c.getVelScroll())}set_cameras(){this.cameras.main.setBounds(0,0,this.layer1.x+this.layer1.width,this.layer1.height),this.physics.world.setBounds(this.sys.game.config.width/2,0,this.layer1.x+this.layer1.width-this.sys.game.config.width,this.layer1.height)}set_keyControlsCameras(){const e=this.input.keyboard.createCursorKeys(),t={camera:this.cameras.main,left:e.left,right:e.right,speed:.2};this.controls=new Phaser.Cameras.Controls.FixedKeyControl(t)}}class h extends t.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}class d extends t.Scene{constructor(){super("MainMenu")}create(){this.add.image(512,384,"background"),this.add.image(512,300,"logo"),this.add.text(512,460,"Main Menu",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.scene.start("Game")}}class g extends t.Scene{constructor(){super("Preloader")}init(){this.add.image(512,384,"background"),this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const e=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",(t=>{e.width=4+460*t}))}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png"),this.load.image("cruceta-left","left.png"),this.load.image("cruceta-right","right.png"),this.load.tilemapTiledJSON("map1","super-mario.json"),this.load.image("tiles1","super-mario.png"),this.load.spritesheet("mario-ss1","mario-ss1.png",{frameWidth:16,frameHeight:16}),this.load.audio("mario-tuberias","mario-tuberias.mp3")}create(){this.scene.start("MainMenu")}}const u={type:Phaser.AUTO,width:256,height:240,parent:"game-container",backgroundColor:"#807010",physics:{default:"arcade",arcade:{gravity:{y:700},debug:!1}},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},scene:[s,g,d,l,h]};new Phaser.Game(u);
